# RSS reader

Pure Python command-line RSS reader.

## Install a CLI application

Python >= 3.9, pip and setuptools are required. Setuptools install with command:
```
pip install setuptools
```
Create [virtual environment](https://docs.python.org/3/library/venv.html) if necessary, then go to RSS-parser folder,
install requirements, afterwards run setup.py with following commands:
```
pip install -r requirements.txt
python setup.py install
```

## Usage of CLI application

```
usage: RSS Parser [-h] [--version] [--json] [--verbose] [--limit LIMIT] [--date DATE] [--to-html] [--to-pdf] [--dest-file DEST_FILE] [URL]

Pure Python command-line RSS reader

positional arguments:
  URL                   RSS URL

options:
  -h, --help            show this help message and exit
  --version, -V         print version info
  --json, -j            print result as JSON in stdout
  --verbose, -v         outputs verbose status messages
  --limit LIMIT, -l LIMIT
                        limit news topics if this parameter provided
  --date DATE, -d DATE  get news from cache. Date format: YYYYMMDD
  --to-html             convert fetched RSS feed to HTML format
  --to-pdf              convert fetched RSS feed to PDF format
  --dest-file DEST_FILE, -f DEST_FILE
                        configure path to store caching and converted HTML and PDF files. Default - "None"
```

## Usage examples
Printing News from "https://news.yahoo.com/rs", with limit news size to 5 items, logs showed with `-v` argument
converting everything to html and saving to the default folder
```
rss_reader https://news.yahoo.com/rss -l 5 -v --to-html
```
or 
```
python rss_reader.py https://news.yahoo.com/rss -l 5 -v --to-html
```

## Regular output example:
### Input:
```
rss_reader https://news.yahoo.com/rss
```
### Output:
```shell
Feed: Yahoo News - Latest News & Headlines
Description: The latest news and headlines from Yahoo! News. Get breaking news stories and in-depth coverage with videos and photos.
Feed Link: https://www.yahoo.com/news

Item 1:
        Title: Naomi Judd, of Grammy-winning duo The Judds, dies at 76
        Date: 2022-04-30 19:42:08+00:00
        Link: https://news.yahoo.com/naomi-judd-grammy-winning-duo-194208048.html
        Description: Empty
        Img: https://s.yimg.com/uu/api/res/1.2/iqVo7t13pY9KGLTlH.75MQ--~B/aD0yNzEyO3c9NDAwMDthcHBpZD15dGFjaHlvbg--/https://media.zenfs.com/en/ap.org/6b68c34ea74aa4168f83013b676ae6fd
...
```

## JSON output example with `--json` / `-j` argument
### Input:
```
rss_reader https://news.yahoo.com/rss -j
```
### Output:
```
{
  "title": "Yahoo News - Latest News & Headlines",
  "description": "The latest news and headlines from Yahoo! News. Get breaking news stories and in-depth coverage with videos and photos.",
  "link": "https://www.yahoo.com/news",
  "items": [
    {
      "title": "Naomi Judd, of Grammy-winning duo The Judds, dies at 76",
      "date": "2022-04-30 19:42:08+00:00",
      "link": "https://news.yahoo.com/naomi-judd-grammy-winning-duo-194208048.html",
      "description": "Empty",
      "img": "https://s.yimg.com/uu/api/res/1.2/iqVo7t13pY9KGLTlH.75MQ--~B/aD0yNzEyO3c9NDAwMDthcHBpZD15dGFjaHlvbg--/https://media.zenfs.com/en/ap.org/6b68c34ea74aa4168f83013b676ae6fd"
    },
    ...
  ]
}

```

## Limit news size

Provide integer number after using `--limit` / `-l` argument 
### Example
```
rss_reader https://news.yahoo.com/rss -l 5
```
That will filter news number by the provided limit

## Default caching and conversion path
All files generated by the program will be saved to "RSS-READER" folder in Desktop by default. 
The default path can be changed by the `--dest-file "path"` / `-f "path"` argument  
### Example:
```shell
rss_reader -f None
```
To make the path Default again run
```shell
rss_reader -f None
```

## Caching feature
Caching feature saves all parsed news into a local json file -   
"C:\Users\User\Desktop\RSS-READER\CachedFeeds\feeds_cache.json" (Default Path can be changed)  
In order to do so  '--date' optional argument should be specified 
with date in YYYYMMDD format. Examples:

- rss_reader https://news.yahoo.com/rss --date 20220417
- rss_reader --date 20220417 

If RSS feed url is not specified, all news with selected publication date will be shown.

Images are also cached into a local folder 'rss_parser/caching/cached_images' and used for format converter feature,
if internet connection is not available during converting.


## Format converter feature
Application format converter feature converts news into selected format and generates file with specified path.
If path doesn't contain filename (checked how path 'endswith'), then it will be generated automatically. Path should exists.

Argument examples:

- 'C:Users\User\Desktop\path\to\folder'

## RSS reader tested on URLs:
- https://news.yahoo.com/rss
- https://lifehacker.com/rss
- https://moxie.foxnews.com/feedburner/world.xml
- http://rss.cnn.com/rss/edition.rss
- https://rss.nytimes.com/services/xml/rss/nyt/World.xml
- http://feeds.bbci.co.uk/news/world/rss.xml
- https://www.techrepublic.com/rssfeeds/topic/cloud

## License
[MIT](https://choosealicense.com/licenses/mit/)

### Gratitudes
Inspired by the development approach of Ildar Galin
